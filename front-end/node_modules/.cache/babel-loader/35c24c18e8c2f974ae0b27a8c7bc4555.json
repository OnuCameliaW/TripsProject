{"ast":null,"code":"import React from 'react';\nimport ol from 'openlayers';\nimport 'ol/ol.css';\nimport { Tile as TileLayer, Vector as VectorLayer } from 'ol/layer';\nexport async function getRouteLayer() {\n  const promise = await fetch('https://route.api.here.com/routing/7.2/calculateroute.json?waypoint0=47.2417%2C27.1767&waypoint1=46.7523%2C22.7026&mode=fastest%3Bcar%3Btraffic%3Aenabled&app_id=eiPUTOVjxY1rwovi7Kwi&app_code=obXES72dtgrH1PgkTGNWNQ&departure=now');\n  var response = await promise.json();\n  console.log(response);\n  var markersArray = response.route[0].leg[0].maneuver;\n  var markers = [];\n  markersArray.forEach(function (marker) {\n    markers.push(ol.proj.transform([marker.longitude, marker.latitude], 'EPSG:4326', 'EPSG:3857'));\n  });\n  return createRouteLayer(markers);\n}\n\nfunction createRouteLayer(markers) {\n  var routeVectorLayer = new ol.layer.Vector({\n    source: new ol.source.Vector({\n      features: [new ol.Feature({\n        geometry: new ol.geom.LineString(markers, 'XY'),\n        name: 'Line'\n      })]\n    }),\n    style: new ol.style.Style({\n      stroke: new ol.style.Stroke({\n        width: 4,\n        color: [20, 20, 20, 0.8]\n      })\n    })\n  });\n  return routeVectorLayer;\n}","map":{"version":3,"sources":["/Users/cameliaonu/Documents/TripsProject/front-end/src/components/mapComponent/routeLayer.js"],"names":["React","ol","Tile","TileLayer","Vector","VectorLayer","getRouteLayer","promise","fetch","response","json","console","log","markersArray","route","leg","maneuver","markers","forEach","marker","push","proj","transform","longitude","latitude","createRouteLayer","routeVectorLayer","layer","source","features","Feature","geometry","geom","LineString","name","style","Style","stroke","Stroke","width","color"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,OAAOC,EAAP,MAAe,YAAf;AACA,OAAO,WAAP;AACA,SAAQC,IAAI,IAAIC,SAAhB,EAA2BC,MAAM,IAAIC,WAArC,QAAuD,UAAvD;AAEA,OAAO,eAAeC,aAAf,GAA8B;AACpC,QAAMC,OAAO,GAAG,MAAMC,KAAK,CAAC,qOAAD,CAA3B;AACG,MAAIC,QAAQ,GAAG,MAAMF,OAAO,CAACG,IAAR,EAArB;AACAC,EAAAA,OAAO,CAACC,GAAR,CAAYH,QAAZ;AACH,MAAII,YAAY,GAAGJ,QAAQ,CAACK,KAAT,CAAe,CAAf,EAAkBC,GAAlB,CAAsB,CAAtB,EAAyBC,QAA5C;AACA,MAAIC,OAAO,GAAG,EAAd;AACAJ,EAAAA,YAAY,CAACK,OAAb,CAAqB,UAASC,MAAT,EAAiB;AACrCF,IAAAA,OAAO,CAACG,IAAR,CAAanB,EAAE,CAACoB,IAAH,CAAQC,SAAR,CAAkB,CAACH,MAAM,CAACI,SAAR,EAAmBJ,MAAM,CAACK,QAA1B,CAAlB,EAAuD,WAAvD,EAAsE,WAAtE,CAAb;AACA,GAFD;AAIC,SAAOC,gBAAgB,CAACR,OAAD,CAAvB;AACD;;AAED,SAASQ,gBAAT,CAA0BR,OAA1B,EAAkC;AAEjC,MAAIS,gBAAgB,GAAG,IAAIzB,EAAE,CAAC0B,KAAH,CAASvB,MAAb,CAAoB;AACvCwB,IAAAA,MAAM,EAAE,IAAI3B,EAAE,CAAC2B,MAAH,CAAUxB,MAAd,CAAqB;AACzByB,MAAAA,QAAQ,EAAE,CAAC,IAAI5B,EAAE,CAAC6B,OAAP,CAAe;AACtBC,QAAAA,QAAQ,EAAE,IAAI9B,EAAE,CAAC+B,IAAH,CAAQC,UAAZ,CAAuBhB,OAAvB,EAAgC,IAAhC,CADY;AAEtBiB,QAAAA,IAAI,EAAE;AAFgB,OAAf,CAAD;AADe,KAArB,CAD+B;AAOvCC,IAAAA,KAAK,EAAE,IAAIlC,EAAE,CAACkC,KAAH,CAASC,KAAb,CAAmB;AACtBC,MAAAA,MAAM,EAAE,IAAIpC,EAAE,CAACkC,KAAH,CAASG,MAAb,CAAoB;AAC1BC,QAAAA,KAAK,EAAE,CADmB;AAChBC,QAAAA,KAAK,EAAE,CAAC,EAAD,EAAK,EAAL,EAAS,EAAT,EAAa,GAAb;AADS,OAApB;AADc,KAAnB;AAPgC,GAApB,CAAvB;AAcA,SAAOd,gBAAP;AACA","sourcesContent":["import React from 'react';\n\nimport ol from 'openlayers';\nimport 'ol/ol.css';\nimport {Tile as TileLayer, Vector as VectorLayer} from 'ol/layer';\n\nexport async function getRouteLayer(){\n\tconst promise = await fetch('https://route.api.here.com/routing/7.2/calculateroute.json?waypoint0=47.2417%2C27.1767&waypoint1=46.7523%2C22.7026&mode=fastest%3Bcar%3Btraffic%3Aenabled&app_id=eiPUTOVjxY1rwovi7Kwi&app_code=obXES72dtgrH1PgkTGNWNQ&departure=now');\n    var response = await promise.json();\n    console.log(response);\n\tvar markersArray = response.route[0].leg[0].maneuver;\n\tvar markers = [];\n\tmarkersArray.forEach(function(marker) {\n\t\tmarkers.push(ol.proj.transform([marker.longitude, marker.latitude], 'EPSG:4326',   'EPSG:3857'));\n\t});\n \t\n \treturn createRouteLayer(markers);\n}\n\nfunction createRouteLayer(markers){\n\n\tvar routeVectorLayer = new ol.layer.Vector({\n\t    source: new ol.source.Vector({\n\t        features: [new ol.Feature({\n\t            geometry: new ol.geom.LineString(markers, 'XY'),\n\t            name: 'Line'\n\t        })]\n\t    }),\n\t    style: new ol.style.Style({\n\t        stroke: new ol.style.Stroke({\n\t          width: 4, color: [20, 20, 20, 0.8]\n\t        })\n      })\n\t});\n\n\treturn routeVectorLayer;\n}"]},"metadata":{},"sourceType":"module"}