{"ast":null,"code":"var _jsxFileName = \"/Users/cameliaonu/Documents/TripsProject/front-end/src/components/overlayComponent/overlay.js\";\nimport React from 'react';\nimport Autocomplete from 'react-autocomplete';\nimport { getMarkersLayer } from '../mapComponent/markerLayer.js';\n\nclass Overlay extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      value: '',\n      items: [],\n      map: null\n    };\n  }\n\n  componentWillReceiveProps(props) {\n    this.setState({\n      map: props.map\n    });\n  }\n\n  async onChangeHandler(event, value) {\n    if (this.state.value !== \"\" && value === \"\") {\n      this.setState({\n        items: []\n      });\n    }\n\n    this.setState({\n      value\n    });\n    var promise = await fetch(\"https://places.cit.api.here.com/places/v1/autosuggest?at=47.151726,27.587914&q=\".concat(this.state.value, \"&app_id=eiPUTOVjxY1rwovi7Kwi&app_code=obXES72dtgrH1PgkTGNWNQ\"));\n    var promiseResult = await promise.json();\n    this.setState({\n      items: promiseResult.results\n    });\n    console.log(promiseResult);\n  }\n\n  onSelectHandler(value, item) {\n    debugger;\n    this.setState({\n      value\n    });\n    let markersArray = [{\n      'latitude': item.position[0],\n      'longitude': item.position[1],\n      'name': item.title\n    }];\n    var markerLayer = getMarkersLayer(markersArray);\n    this.state.map.addLayer(markerLayer);\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"overlay\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"autocompleteComponent\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }, React.createElement(Autocomplete, {\n      value: this.state.value,\n      inputProps: {\n        id: 'states-autocomplete'\n      },\n      wrapperStyle: {\n        position: 'relative',\n        display: 'inline-block'\n      },\n      items: this.state.items,\n      getItemValue: item => item.title,\n      onChange: (event, value) => this.onChangeHandler(event, value),\n      onSelect: (value, item) => this.onSelectHandler(value, item),\n      renderMenu: children => React.createElement(\"div\", {\n        className: \"menu\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }, children),\n      renderItem: (item, isHighlighted) => React.createElement(\"div\", {\n        className: \"item \".concat(isHighlighted ? 'item-highlighted' : ''),\n        key: item.id,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }, item.title),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    })));\n  }\n\n}\n\nexport default Overlay;","map":{"version":3,"sources":["/Users/cameliaonu/Documents/TripsProject/front-end/src/components/overlayComponent/overlay.js"],"names":["React","Autocomplete","getMarkersLayer","Overlay","Component","constructor","props","state","value","items","map","componentWillReceiveProps","setState","onChangeHandler","event","promise","fetch","promiseResult","json","results","console","log","onSelectHandler","item","markersArray","position","title","markerLayer","addLayer","render","id","display","children","isHighlighted"],"mappings":"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","sourcesContent":["import React from 'react';\nimport Autocomplete from  'react-autocomplete';\nimport {getMarkersLayer} from '../mapComponent/markerLayer.js';\n\nclass Overlay extends React.Component {\n\n constructor(props) {\n    super(props);\n    this.state = { \n\t\tvalue: '' ,\n\t\titems: [],\n\t\tmap : null\n\t};\n  }\n\ncomponentWillReceiveProps(props) {\n    this.setState({\n    \tmap: props.map\n    });\n  }\n\n\tasync onChangeHandler(event, value){\n\t\tif(this.state.value !== \"\" && value === \"\"){\n\t\t\tthis.setState({ items: [] });\n\t\t}\n\n\t \tthis.setState({value});\n\t \tvar promise = await fetch(`https://places.cit.api.here.com/places/v1/autosuggest?at=47.151726,27.587914&q=${this.state.value}&app_id=eiPUTOVjxY1rwovi7Kwi&app_code=obXES72dtgrH1PgkTGNWNQ`);\n\t\tvar promiseResult = await promise.json();\n\t\tthis.setState({ items: promiseResult.results });\n\t\tconsole.log(promiseResult);\t\n\t}\n\n\tonSelectHandler(value, item){\n\t\tdebugger\n\t\tthis.setState({ value });\n\t\tlet markersArray = [\n\t\t{\n    \t'latitude': item.position[0],\n    \t'longitude': item.position[1],\n    \t'name': item.title\n    \t}];\n\n\t\tvar markerLayer = getMarkersLayer(markersArray);\n\t\tthis.state.map.addLayer(markerLayer);\n\n\t}\n\n\trender() {\n    return <div className=\"overlay\">\n    \t\t\t<div className=\"autocompleteComponent\">\n\t\t    \t\t<Autocomplete\n\t\t\t          value={ this.state.value }\n\t\t\t          inputProps={{ id: 'states-autocomplete' }}\n\t\t\t          wrapperStyle={{ position: 'relative', display: 'inline-block' }}\n\t\t\t          items={ this.state.items }\n\t\t\t          getItemValue={ item => item.title }\n\t\t\t          onChange={(event, value) => this.onChangeHandler(event, value) }\n\t\t\t          onSelect={(value, item) => this.onSelectHandler(value, item) }\n\t\t\t          renderMenu={ children => (\n\t\t\t            <div className = \"menu\">\n\t\t\t              { children }\n\t\t\t            </div>\n\t\t\t          )}\n\t\t\t          renderItem={ (item, isHighlighted) => (\n\t\t\t            <div\n\t\t\t              className={`item ${isHighlighted ? 'item-highlighted' : ''}`}\n\t\t\t              key={ item.id } >\n\t\t\t              { item.title }\n\t\t\t            </div>\n\t\t\t          )}\n\t\t\t        />  \n    \t\t\t</div>\n    \t</div>;\n  }\n}\nexport default Overlay;\n"]},"metadata":{},"sourceType":"module"}