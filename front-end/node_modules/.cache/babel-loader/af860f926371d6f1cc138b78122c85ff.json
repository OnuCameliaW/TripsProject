{"ast":null,"code":"import React from 'react';\nimport ol from 'openlayers';\nimport 'ol/ol.css';\nimport { Tile as TileLayer, Vector as VectorLayer } from 'ol/layer';\nexport async function getRouteLayer() {\n  const promise = await fetch('https://route.api.here.com/routing/7.2/calculateroute.json?waypoint0=47.1517%2C27.5879&waypoint1=46.7712%2C23.6236&mode=fastest%3Bcar%3Btraffic%3Aenabled&app_id=eiPUTOVjxY1rwovi7Kwi&app_code=obXES72dtgrH1PgkTGNWNQ&departure=now');\n  var test = await promise.json(); //console.log(test);\n\n  if (test != null) {\n    var markersArray = test.response.route[0].leg[0].maneuver; //console.log(markersArray);\n\n    var markers = [];\n    markersArray.forEach(function (marker) {\n      markers.push(ol.proj.transform([marker.position.longitude, marker.position.latitude], 'EPSG:4326', 'EPSG:3857'));\n    });\n    return createRouteLayer(markers);\n  }\n\n  return null;\n}\n\nfunction createRouteLayer(markers) {\n  var routeVectorLayer = new ol.layer.Vector({\n    source: new ol.source.Vector({\n      features: [new ol.Feature({\n        geometry: new ol.geom.LineString(markers, 'XY'),\n        name: 'Line'\n      })]\n    }),\n    style: new ol.style.Style({\n      stroke: new ol.style.Stroke({\n        width: 4,\n        color: [20, 20, 20, 0.8]\n      })\n    })\n  });\n  return routeVectorLayer;\n}","map":{"version":3,"sources":["/Users/cameliaonu/Documents/TripsProject/front-end/src/components/mapComponent/routeLayer.js"],"names":["React","ol","Tile","TileLayer","Vector","VectorLayer","getRouteLayer","promise","fetch","test","json","markersArray","response","route","leg","maneuver","markers","forEach","marker","push","proj","transform","position","longitude","latitude","createRouteLayer","routeVectorLayer","layer","source","features","Feature","geometry","geom","LineString","name","style","Style","stroke","Stroke","width","color"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,OAAOC,EAAP,MAAe,YAAf;AACA,OAAO,WAAP;AACA,SAAQC,IAAI,IAAIC,SAAhB,EAA2BC,MAAM,IAAIC,WAArC,QAAuD,UAAvD;AAEA,OAAO,eAAeC,aAAf,GAA8B;AACpC,QAAMC,OAAO,GAAG,MAAMC,KAAK,CAAC,qOAAD,CAA3B;AACG,MAAIC,IAAI,GAAG,MAAMF,OAAO,CAACG,IAAR,EAAjB,CAFiC,CAGjC;;AACA,MAAGD,IAAI,IAAI,IAAX,EAAgB;AACf,QAAIE,YAAY,GAAGF,IAAI,CAACG,QAAL,CAAcC,KAAd,CAAoB,CAApB,EAAuBC,GAAvB,CAA2B,CAA3B,EAA8BC,QAAjD,CADe,CAEf;;AACH,QAAIC,OAAO,GAAG,EAAd;AACAL,IAAAA,YAAY,CAACM,OAAb,CAAqB,UAASC,MAAT,EAAiB;AACrCF,MAAAA,OAAO,CAACG,IAAR,CAAalB,EAAE,CAACmB,IAAH,CAAQC,SAAR,CAAkB,CAACH,MAAM,CAACI,QAAP,CAAgBC,SAAjB,EAA4BL,MAAM,CAACI,QAAP,CAAgBE,QAA5C,CAAlB,EAAyE,WAAzE,EAAwF,WAAxF,CAAb;AACA,KAFD;AAGA,WAAOC,gBAAgB,CAACT,OAAD,CAAvB;AACG;;AACJ,SAAO,IAAP;AACA;;AAED,SAASS,gBAAT,CAA0BT,OAA1B,EAAkC;AAEjC,MAAIU,gBAAgB,GAAG,IAAIzB,EAAE,CAAC0B,KAAH,CAASvB,MAAb,CAAoB;AACvCwB,IAAAA,MAAM,EAAE,IAAI3B,EAAE,CAAC2B,MAAH,CAAUxB,MAAd,CAAqB;AACzByB,MAAAA,QAAQ,EAAE,CAAC,IAAI5B,EAAE,CAAC6B,OAAP,CAAe;AACtBC,QAAAA,QAAQ,EAAE,IAAI9B,EAAE,CAAC+B,IAAH,CAAQC,UAAZ,CAAuBjB,OAAvB,EAAgC,IAAhC,CADY;AAEtBkB,QAAAA,IAAI,EAAE;AAFgB,OAAf,CAAD;AADe,KAArB,CAD+B;AAOvCC,IAAAA,KAAK,EAAE,IAAIlC,EAAE,CAACkC,KAAH,CAASC,KAAb,CAAmB;AACtBC,MAAAA,MAAM,EAAE,IAAIpC,EAAE,CAACkC,KAAH,CAASG,MAAb,CAAoB;AAC1BC,QAAAA,KAAK,EAAE,CADmB;AAChBC,QAAAA,KAAK,EAAE,CAAC,EAAD,EAAK,EAAL,EAAS,EAAT,EAAa,GAAb;AADS,OAApB;AADc,KAAnB;AAPgC,GAApB,CAAvB;AAcA,SAAOd,gBAAP;AACA","sourcesContent":["import React from 'react';\n\nimport ol from 'openlayers';\nimport 'ol/ol.css';\nimport {Tile as TileLayer, Vector as VectorLayer} from 'ol/layer';\n\nexport async function getRouteLayer(){\n\tconst promise = await fetch('https://route.api.here.com/routing/7.2/calculateroute.json?waypoint0=47.1517%2C27.5879&waypoint1=46.7712%2C23.6236&mode=fastest%3Bcar%3Btraffic%3Aenabled&app_id=eiPUTOVjxY1rwovi7Kwi&app_code=obXES72dtgrH1PgkTGNWNQ&departure=now');\n    var test = await promise.json();\n    //console.log(test);\n    if(test != null){\n    \tvar markersArray = test.response.route[0].leg[0].maneuver;\n    \t//console.log(markersArray);\n\t\tvar markers = [];\n\t\tmarkersArray.forEach(function(marker) {\n\t\t\tmarkers.push(ol.proj.transform([marker.position.longitude, marker.position.latitude], 'EPSG:4326',   'EPSG:3857'));\n\t\t});\n \treturn createRouteLayer(markers);\n    }\n\treturn null;\n}\n\nfunction createRouteLayer(markers){\n\n\tvar routeVectorLayer = new ol.layer.Vector({\n\t    source: new ol.source.Vector({\n\t        features: [new ol.Feature({\n\t            geometry: new ol.geom.LineString(markers, 'XY'),\n\t            name: 'Line'\n\t        })]\n\t    }),\n\t    style: new ol.style.Style({\n\t        stroke: new ol.style.Stroke({\n\t          width: 4, color: [20, 20, 20, 0.8]\n\t        })\n      })\n\t});\n\n\treturn routeVectorLayer;\n}"]},"metadata":{},"sourceType":"module"}